<!DOCTYPE html>
<html>
<head>
  <title>Chatbot IA Ventas</title>
</head>
<body>
  <h2>Chatbot de Ventas</h2>
  <textarea id="chat" rows="15" cols="50" readonly></textarea><br><br>
  <input id="userInput" placeholder="Escribe aquÃ­..." />
  <button onclick="sendMessage()">Enviar</button>

  <script>
    async function sendMessage() {
      const input = document.getElementById("userInput").value;
      document.getElementById("chat").value += "Cliente: " + input + "\n";

      const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Authorization": "Bearer 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",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          model: "gpt-3.5-turbo",
          messages: [
            { role: "system", content: "Eres un asistente de ventas que califica leads en frio, tibio o caliente." },
            { role: "user", content: input }
          ]
        })
      });

      const data = await response.json();
      const reply = data.choices[0].message.content;
      document.getElementById("chat").value += "Bot: " + reply + "\n\n";
    }
  </script>
</body>
</html>
